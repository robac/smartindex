<?php

function smartindex_autoloader($class) {
    $classpath = dirname(__FILE__)."/classes/{$class}.php"; 
    if (file_exists($classpath)) {
        require_once $classpath;
    }
}

function INC_defineBasics() {
    if(!defined('DOKU_INC')) 
        define('DOKU_INC',realpath(dirname(__FILE__).'/../../../').'/');

    if (!defined('DOKU_LF')) 
        define('DOKU_LF', "\n");

    if (!defined('DOKU_TAB')) 
        define('DOKU_TAB', "\t");

    if (!defined('DOKU_PLUGIN')) 
        define('DOKU_PLUGIN',DOKU_INC.'lib/plugins/');
}

function INC_dokuwikiCore() {
    require_once(DOKU_INC.'inc/init.php');
    require_once(DOKU_INC.'inc/auth.php');
}

function INC_requireDokuwiki() {
    if (!defined('DOKU_INC')) 
        die();
}

spl_autoload_register('smartindex_autoloader');